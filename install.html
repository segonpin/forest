

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; Forest 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/forest_small.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Forest 0.1 documentation" href="index.html"/>
        <link rel="next" title="Methods" href="methods/index.html"/>
        <link rel="prev" title="FOREST (Framework Oriented for Reactor SimulaTions)" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Forest
          

          
            
            <img src="_static/forest_icon.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#forest">FOREST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#petsc">PETSc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#slepc">SLEPc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deal-ii">deal.II</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="methods/index.html">Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide/userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devguide/devguide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="doxygen/api.html">FOREST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="info.html">Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="foresttodo.html">Forest todo list</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Forest</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<span id="install"></span><h1><a class="toc-backref" href="#id1">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#installation" id="id1">Installation</a><ul>
<li><a class="reference internal" href="#forest" id="id2">FOREST</a></li>
<li><a class="reference internal" href="#petsc" id="id3">PETSc</a></li>
<li><a class="reference internal" href="#slepc" id="id4">SLEPc</a></li>
<li><a class="reference internal" href="#deal-ii" id="id5">deal.II</a></li>
</ul>
</li>
</ul>
</div>
<p>FOREST is as easy to install as any of its dependencies.
The main difficulty here is to install all the dependencies,
in the right order and in the right version, before installing
FOREST.</p>
<p>We start with the installation of FOREST assuming that
the dependencies are already installed, but if they are not
we suggest to directly go to the installation of the external
dependencies, and only after they are installed, install FOREST.</p>
<p>The dependencies are PETSc, SLEPc and deal.II. They should be installed
in this specific order to satisfy their inter-dependencies. The way to
install each one of them is summarized later.</p>
<div class="section" id="forest">
<h2><a class="toc-backref" href="#id2">FOREST</a><a class="headerlink" href="#forest" title="Permalink to this headline">¶</a></h2>
<p>In order to install FOREST, some dependencies should be installed first.
After the dependencies have been installed we proceed to download
and install FOREST by typing</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">git clone -b maint https://bitbucket.org/dream/forest forest</span>
<span class="go">cd forest</span>
<span class="go">cmake .</span>
<span class="go">make</span>
</pre></div>
</div>
</div>
<div class="section" id="petsc">
<h2><a class="toc-backref" href="#id3">PETSc</a><a class="headerlink" href="#petsc" title="Permalink to this headline">¶</a></h2>
<p>In order to download PETSc we write</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">git clone -b maint https://bitbucket.org/petsc/petsc petsc</span>
</pre></div>
</div>
<p>In order to install PETSc we write</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-fblaslapack --download-mpich</span>
</pre></div>
</div>
<p>which should take care of installing the mpi and configuring
the installation of petsc, or</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-fblaslapack --with-mpi=0</span>
</pre></div>
</div>
<p>for installing without mpi.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For version 8.4 of dealii to link it properly, we need to add the installation of hypre as follows</p>
<div class="last highlight-console"><div class="highlight"><pre><span></span><span class="go">./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-fblaslapack --download-mpich --download-hypre=1</span>
</pre></div>
</div>
</div>
<p>Then we install it by typing</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">make all test</span>
</pre></div>
</div>
<p>The last thing is now to add the folders to the path. We do this by adding the following lines to the ~/.bashrc file</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">export PETSC_DIR=/folder/with/petsc</span>
<span class="go">export PETSC_ARCH=arch-linux2-c-debug</span>
</pre></div>
</div>
</div>
<div class="section" id="slepc">
<h2><a class="toc-backref" href="#id4">SLEPc</a><a class="headerlink" href="#slepc" title="Permalink to this headline">¶</a></h2>
<p>SLEPc works in a very similar way to that of PETSc.
The main point here is to tell SLEPc where is PETSc, i.e.,</p>
<ul class="simple">
<li>Set the environment variable SLEPC_DIR to the full path  of the SLEPc home directory, for example,
<cite>export SLEPC_DIR=/home/username/slepc</cite></li>
<li>In addition to this variable, PETSC_DIR
and PETSC_ARCH  must also be set appropriately.</li>
</ul>
<p>We can download SLEPc in a very similar way to PETSc, by typing</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">git clone -b maint https://bitbucket.org/slepc/slepc slepc</span>
</pre></div>
</div>
<p>Then we go inside the SLEPc folder and we type:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">./configure</span>
</pre></div>
</div>
<p>The last step is to install by typing</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">make all test</span>
</pre></div>
</div>
</div>
<div class="section" id="deal-ii">
<h2><a class="toc-backref" href="#id5">deal.II</a><a class="headerlink" href="#deal-ii" title="Permalink to this headline">¶</a></h2>
<p>For installing deal.II, we start downloading the library
to the folder that we choose, which in my case is</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">cd /home/segonpin/lib</span>
<span class="go">git clone -b dealii-8.4 https://github.com/dealii/dealii.git dealii-8.4</span>
<span class="go">cd dealii</span>
<span class="go">mkdir build</span>
<span class="go">cd build</span>
</pre></div>
</div>
<p>Now we prepare the directory for the installation and
export it to the path,</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">mkdir ../../dealii-8.4.bin</span>
<span class="go">export DEAL_II_DIR=../../dealii-8.4.bin</span>
</pre></div>
</div>
<p>then I run the bash script <cite>buildingdealii.sh</cite>
by typing</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">sh buildingdealii.sh</span>
</pre></div>
</div>
<p>where the bash script contains the following lines</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#/bin/bash</span>

<span class="c1"># here I am using my environmental variable DEAL_II_DIR</span>
<span class="c1"># as the installing directory. It can be any other path.</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$DEAL_II_DIR</span><span class="s2">&quot;</span>

<span class="c1"># prepare the cache for the cmake</span>
cmake -DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="nv">$DEAL_II_DIR</span> <span class="se">\</span>
    -DDEAL_II_WITH_FUNCTIONPARSER<span class="o">=</span>ON <span class="se">\</span>
    -DDEAL_II_COMPONENT_DOCUMENTATION<span class="o">=</span>ON <span class="se">\</span>
    -DMPI_CXX_COMPILER<span class="o">=</span><span class="nv">$PETSC_DIR</span>/<span class="nv">$PETSC_ARCH</span>/bin/mpicxx <span class="se">\</span>
    -DDEAL_II_WITH_PETSC<span class="o">=</span>ON -DPETSC_DIR<span class="o">=</span><span class="nv">$PETSC_DIR</span> -DPETSC_ARCH<span class="o">=</span><span class="nv">$PETSC_ARCH</span> <span class="se">\</span>
    -DDEAL_II_WITH_SLEPC<span class="o">=</span>ON -DSLEPC_DIR<span class="o">=</span><span class="nv">$SLEPC_DIR</span> -DSLEPC_ARCH<span class="o">=</span><span class="nv">$PETSC_ARCH</span>  <span class="se">\</span>
    -DDEAL_II_WITH_THREADS<span class="o">=</span>ON ..

<span class="c1"># Then install and test</span>
make -j7 install
<span class="c1">#make test</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="methods/index.html" class="btn btn-neutral float-right" title="Methods" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="FOREST (Framework Oriented for Reactor SimulaTions)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Sebastian Gonzalez-Pintor.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>